<div class="container">
    <form (ngSubmit)="onSubmit()" [formGroup]="registroForm">
              <div class="card-body">
            <!--Espacio del botón de atrás-->
            <mat-card-header>
                <button
                  type="button"
                  aria-label="Toggle sidenav"
                  mat-icon-button
                  routerLink="/users"
                >
                 <span><span class="material-icons">arrow_back </span></span>
                </button>
                <h2 class="card-title">
                    Datos de Usuario
                </h2>
            </mat-card-header> 

            <div class="form-row">

              <!--Nombre del servicio-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Nombre</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="name"
                      [(ngModel)]="users.name"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('name')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('name')?.hasError?.('minlength')">
                                (Debe tener como mínimo 3 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                  
                </p>
              </div>
              <!--Apellido-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Apellido</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="last_name"
                      [(ngModel)]="users.last_name"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('last_name')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('last_name')?.hasError?.('minlength')">
                                (Debe tener como mínimo 3 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
            </div>

            <div class="form-row">

              <!--email-->
            <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Email</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="email"
                      class="form-control"
                      formControlName="email"
                      [(ngModel)]="users.email"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('email')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                             <span *ngIf="this.registroForm.get('email')?.hasError?.('email')">
                               (El formato debe ser xxxx@example.com)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
              <!--Username-->
              <div class="form-group col-md-5">
              <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Usuario</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="username"
                      [(ngModel)]="users.username"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('username')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('username')?.hasError?.('minlength')">
                                (Debe tener como mínimo 3 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
            </div>
            </div>
            <div class="form-row">

              <!--Contraseña-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Contraseña</mat-label>
                    <input
                      matInput
                      [type]="hide ? 'password' : 'text'"
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="password"
                      [(ngModel)]="users.password"
                    required/>
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                     <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                     </button>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('password')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('password')?.hasError?.('minlength')">
                                (Debe tener como mínimo 3 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                  
                </p>
              </div>
              </div>
      <div class="form-row">
        <div class="form-group col-md-2"></div>
        </div>
        <div class="form-row">
           <div class="form-group col-md-2">
            <!--botons-->
            <button
              class="btn btn-info"
              (click)="create()"
              *ngIf="!users.id; else elseBlock"
            >
              Registrar
            </button>
            <ng-template #elseBlock>
              <button class="btn btn-info" (click)="update()">Actualizar</button>
            </ng-template>
          </div>
          </div>
          </div>
    </form>
</div>
